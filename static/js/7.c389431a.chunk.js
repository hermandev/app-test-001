(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[7],{873:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return O}));var a=n(49),c=n.n(a),r=n(77),s=n(78),i=n.n(s),u=n(56),o=n(63),l=n.n(o),d=n(21),j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(d.a,"/pegawai"));case 3:n=e.sent,t({type:d.g,data:n.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(d.a,"/pegawai"),e);case 3:"Created"===(a=t.sent).data.status&&Object(u.c)("success","Data pegawai berhasil disimpan"),"Error"===a.data.status&&Object(u.c)("error",a.data.data),n(j()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.delete("".concat(d.a,"/pegawai/").concat(e));case 3:"Deleted"===t.sent.data.status&&(l.a.fire("Deleted!","Pegawai berhasil di hapus.","success"),n(j())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.put("".concat(d.a,"/pegawai/reset"),{id:e,nidn:t});case 3:"Updated"===n.sent.data.status&&(l.a.fire("Reset Password!","Password berhasil direset.!","success"),a(j())),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.put("".concat(d.a,"/pegawai"),e);case 3:"Updated"===t.sent.data.status&&(l.a.fire("Update!","berhasil update.!","success"),n(j())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},968:function(e,t,n){},976:function(e,t,n){"use strict";n.r(t);var a=n(872),c=n(1),r=n(871),s=n(62),i=n(880),u=n(49),o=n.n(u),l=n(77),d=n(78),j=n.n(d),b=n(882),h=n.n(b),p=n(56),O=n(21),f=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(O.a,"/pangkat"));case 3:"Success"===(n=e.sent).data.status&&t({type:O.f,data:n.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("".concat(O.a,"/pangkat/map/").concat(e));case 3:"Success"===(a=t.sent).data.status&&n({type:O.e,data:a.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=n(19),m=function(e){var t=e.modal,n=e.setModal,i=Object(s.b)(),u=Object(c.useState)(""),d=Object(a.a)(u,2),b=d[0],h=d[1],x=Object(c.useState)(""),m=Object(a.a)(x,2),k=m[0],v=m[1],w=Object(c.useState)(""),y=Object(a.a)(w,2),A=y[0],C=y[1],S=function(){(""===b&&Object(p.a)("Pangkat masih kosong"),""===k&&Object(p.a)("Golongan masih kosong"),""===A&&Object(p.a)("Ruang masih kosong"),""!==b&&""!==k&&""!==A)&&(i(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("".concat(O.a,"/pangkat"),e);case 3:"Success"===t.sent.data.status&&(Object(p.d)("Success"),n(f())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}({pangkat:b,golongan:k,ruang:A})),h(""),v(""),C(""),n(!1))};return Object(g.jsxs)(r.I,{show:t,onClose:n,closeOnBackdrop:!1,children:[Object(g.jsx)(r.L,{closeButton:!0,children:Object(g.jsx)(r.M,{children:"Form Tambah Pangkat"})}),Object(g.jsxs)(r.J,{children:[Object(g.jsx)(r.O,{children:Object(g.jsx)(r.j,{xs:"12",children:Object(g.jsxs)(r.u,{children:[Object(g.jsx)(r.E,{htmlFor:"pangkat",children:"Pangkat"}),Object(g.jsx)(r.z,{type:"text",name:"pangkat",placeholder:"Pangkat",onChange:function(e){return h(e.target.value)}})]})})}),Object(g.jsx)(r.O,{children:Object(g.jsx)(r.j,{xs:"12",children:Object(g.jsxs)(r.u,{children:[Object(g.jsx)(r.E,{htmlFor:"golongan",children:"Golongan"}),Object(g.jsx)(r.z,{type:"text",name:"golongan",placeholder:"Golongan",onChange:function(e){return v(e.target.value)}})]})})}),Object(g.jsx)(r.O,{children:Object(g.jsx)(r.j,{xs:"12",children:Object(g.jsxs)(r.u,{children:[Object(g.jsx)(r.E,{htmlFor:"ruang",children:"Ruang"}),Object(g.jsx)(r.z,{type:"text",name:"ruang",placeholder:"Ruang",onChange:function(e){return C(e.target.value)}})]})})})]}),Object(g.jsxs)(r.K,{children:[Object(g.jsx)(r.e,{color:"success",onClick:function(){return S()},children:"Tambah"}),Object(g.jsx)(r.e,{color:"secondary",onClick:function(){return n(!1)},children:"Batal"})]})]})},k=n(63),v=n.n(k),w=n(873),y=(n(968),function(e){var t=e.modal,n=e.setModal,i=e.idPangkat,u=Object(s.b)(),d=Object(c.useState)(""),b=Object(a.a)(d,2),h=b[0],f=b[1],m=function(){if(""===h&&Object(p.a)("Pangkat masih kosong"),""!==h){var e={id_pangkat:i,keterangan:h};f(""),n(!1),u(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("".concat(O.a,"/pangkat/map"),e);case 3:"Success"===t.sent.data.status&&(Object(p.d)("Success"),n(x(e.id_pangkat))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}};return Object(g.jsxs)(r.I,{show:t,onClose:n,closeOnBackdrop:!1,children:[Object(g.jsx)(r.L,{closeButton:!0,children:Object(g.jsxs)(r.M,{children:["Form Tambah Mapping Upload ",i]})}),Object(g.jsx)(r.J,{children:Object(g.jsx)(r.O,{children:Object(g.jsx)(r.j,{xs:"12",children:Object(g.jsxs)(r.u,{children:[Object(g.jsx)(r.E,{htmlFor:"keterangan",children:"Keterangan"}),Object(g.jsx)(r.z,{type:"text",name:"keterangan",placeholder:"Keterangan",value:h,onChange:function(e){return f(e.target.value)}})]})})})}),Object(g.jsxs)(r.K,{children:[Object(g.jsx)(r.e,{color:"success",onClick:function(){return m()},children:"Tambah"}),Object(g.jsx)(r.e,{color:"secondary",onClick:function(){return n(!1)},children:"Batal"})]})]})});t.default=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.pangkat.data})),n=Object(s.c)((function(e){return e.pangkat.map})),u=Object(c.useState)(""),d=Object(a.a)(u,2),b=d[0],k=d[1],A=Object(c.useState)(""),C=Object(a.a)(A,2),S=C[0],P=C[1],Y=Object(c.useState)(!1),M=Object(a.a)(Y,2),_=M[0],B=M[1],N=Object(c.useState)(!1),D=Object(a.a)(N,2),F=D[0],T=D[1],E=function(t){v.a.fire({title:"yakin ingin menghapus data pangkat ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(n){var a;n.isConfirmed&&e((a=t.id,function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat(O.a,"/pangkat?id=").concat(a));case 3:"Success"===e.sent.data.status&&(Object(p.d)("Success"),t(f())),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}))},G=function(t){v.a.fire({title:"yakin ingin menghapus mapping ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(n){var a,c;n.isConfirmed&&e((a=t.id,c=t.id_pangkat,function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat(O.a,"/pangkat/map?id=").concat(a));case 3:"Success"===e.sent.data.status&&(Object(p.d)("Success"),t(x(c))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}))};return Object(c.useEffect)((function(){e(Object(w.b)()),e(f())}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(r.O,{children:[Object(g.jsx)(r.j,{children:Object(g.jsxs)(r.f,{children:[Object(g.jsx)(r.i,{children:Object(g.jsxs)(r.O,{children:[Object(g.jsx)(r.j,{sm:"5",children:Object(g.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Pangkat"})}),Object(g.jsx)(r.j,{sm:"7",className:"d-none d-md-block",children:Object(g.jsx)(r.e,{color:"primary",className:"float-right",onClick:function(){return B(!_)},children:"Tambah Pangkat"})})]})}),Object(g.jsx)(r.g,{children:Object(g.jsx)(r.m,{items:t,fields:[{key:"no",label:"NO",_style:{width:"70px"}},{key:"pangkat",label:"PANGKAT"},{key:"golongan",label:"GOLONGAN",_style:{textAlign:"center"}},{key:"ruang",label:"RUANG",_style:{textAlign:"center"}},{key:"aksi",label:"AKSI",_style:{width:"200px",textAlign:"center"}}],itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,pagination:!0,scopedSlots:{no:function(e,t){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("td",{children:t+1})})},mulai_cuti:function(e){return Object(g.jsx)("td",{children:h()(e.mulai_cuti).format("DD-MM-YYYY")})},akhir_cuti:function(e){return Object(g.jsx)("td",{children:h()(e.akhir_cuti).format("DD-MM-YYYY")})},golongan:function(e){return Object(g.jsx)("td",{style:{textAlign:"center"},children:e.golongan})},ruang:function(e){return Object(g.jsx)("td",{style:{textAlign:"center"},children:e.ruang})},aksi:function(t){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("td",{style:{textAlign:"center"},children:[Object(g.jsx)(r.e,{style:{marginRight:10},size:"sm",color:"danger",onClick:function(){return E(t)},children:Object(g.jsx)(i.j,{})}),Object(g.jsx)(r.e,{size:"sm",color:"success",onClick:function(){return function(t){k("".concat(t.pangkat," - ").concat(t.golongan,"/").concat(t.ruang)),P(t.id),e(x(t.id))}(t)},children:Object(g.jsx)(i.e,{})})]})})}}})})]})}),Object(g.jsx)(r.j,{children:Object(g.jsxs)(r.f,{children:[Object(g.jsx)(r.i,{children:Object(g.jsxs)(r.O,{children:[Object(g.jsx)(r.j,{sm:"8",children:Object(g.jsxs)("h4",{id:"traffic",className:"card-title mb-0",children:["Mapping : ",b]})}),Object(g.jsx)(r.j,{sm:"4",className:"d-none d-md-block",children:Object(g.jsx)(r.e,{color:"primary",className:"float-right",disabled:""===S,onClick:function(){return T(!F)},children:"Tambah Mapping"})})]})}),Object(g.jsx)(r.g,{children:Object(g.jsx)(r.m,{items:n,fields:[{key:"no",label:"NO",_style:{width:"100px"}},{key:"keterangan",label:"KETERANGAN"},{key:"aksi",label:"AKSI",_style:{width:"200px",textAlign:"center"}}],itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,pagination:!0,scopedSlots:{no:function(e,t){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("td",{children:t+1})})},mulai_cuti:function(e){return Object(g.jsx)("td",{children:h()(e.mulai_cuti).format("DD-MM-YYYY")})},akhir_cuti:function(e){return Object(g.jsx)("td",{children:h()(e.akhir_cuti).format("DD-MM-YYYY")})},aksi:function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("td",{style:{textAlign:"center"},children:Object(g.jsx)(r.e,{size:"sm",color:"danger",onClick:function(){return G(e)},children:Object(g.jsx)(i.j,{})})})})}}})})]})})]}),Object(g.jsx)(m,{modal:_,setModal:B}),""!==S&&Object(g.jsx)(y,{modal:F,setModal:T,idPangkat:S})]})}}}]);