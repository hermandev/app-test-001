(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{873:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return h}));var n=a(49),c=a.n(n),r=a(77),i=a(78),s=a.n(i),u=a(56),o=a(63),l=a.n(o),d=a(21),b=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("".concat(d.a,"/pegawai"));case 3:a=e.sent,t({type:d.g,data:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("".concat(d.a,"/pegawai"),e);case 3:"Created"===(n=t.sent).data.status&&Object(u.c)("success","Data pegawai berhasil disimpan"),"Error"===n.data.status&&Object(u.c)("error",n.data.data),a(b()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.delete("".concat(d.a,"/pegawai/").concat(e));case 3:"Deleted"===t.sent.data.status&&(l.a.fire("Deleted!","Pegawai berhasil di hapus.","success"),a(b())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.put("".concat(d.a,"/pegawai/reset"),{id:e,nidn:t});case 3:"Updated"===a.sent.data.status&&(l.a.fire("Reset Password!","Password berhasil direset.!","success"),n(b())),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.put("".concat(d.a,"/pegawai"),e);case 3:"Updated"===t.sent.data.status&&(l.a.fire("Update!","berhasil update.!","success"),a(b())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},886:function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return p}));var n=a(49),c=a.n(n),r=a(77),i=a(78),s=a.n(i),u=a(882),o=a.n(u),l=a(56),d=a(21),b=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("".concat(d.a,"/cuti/pegawai"));case 3:"Success"===(a=e.sent).data.status&&t({type:d.c,data:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(l.b)("Ada masalah pada server, silahkan hubungi admin");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.post("".concat(d.a,"/cuti"),{id_pegawai:e,mulai_cuti:o()(new Date).format("YYYY-MM-DD"),akhir_cuti:t});case 3:"Error"===(r=a.sent).data.status?Object(l.b)(r.data.data):Object(l.d)(r.data.data),n(b()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Object(l.b)("Ada masalah pada server, silahkan hubungi admin");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.delete("".concat(d.a,"/cuti?id=").concat(e,"&pegawai=").concat(t));case 3:n(b()),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}},980:function(e,t,a){"use strict";a.r(t);var n=a(872),c=a(1),r=a(871),i=a(62),s=a(880),u=a(913),o=a(886),l=a(56),d=a(19),b=function(e){var t=e.modal,a=e.setModal,s=Object(i.b)(),b=Object(c.useState)(null),j=Object(n.a)(b,2),p=j[0],f=j[1],h=Object(c.useState)(""),O=Object(n.a)(h,2),x=O[0],m=O[1],v=Object(i.c)((function(e){return e.pegawai.data})).map((function(e){return{value:e.id,label:e.nama}})),g=function(){null===p&&Object(l.a)("Nama Pegawai masih kosong"),""===x&&Object(l.a)("Tentukan tanggal"),null!==p&&""!==x&&(s(Object(o.a)(p,x)),a(!1),f(null),m(""))};return Object(d.jsxs)(r.I,{show:t,onClose:a,children:[Object(d.jsx)(r.L,{closeButton:!0,children:Object(d.jsx)(r.M,{children:"Form Cuti Pegawai"})}),Object(d.jsxs)(r.J,{children:[Object(d.jsx)(r.O,{children:Object(d.jsx)(r.j,{xs:"12",children:Object(d.jsxs)(r.u,{children:[Object(d.jsx)(r.E,{htmlFor:"jabatan",children:"Nama Pegawai"}),Object(d.jsx)(u.a,{defaultInputValue:"",isSearchable:!0,isClearable:!0,options:v,placeholder:"Nama Pegawai",noOptionsMessage:function(e){return"Tidak ada data!"},value:p,onChange:function(e){return f(e)}})]})})}),Object(d.jsx)(r.O,{children:Object(d.jsx)(r.j,{xs:"12",children:Object(d.jsxs)(r.u,{children:[Object(d.jsx)(r.E,{htmlFor:"jabatan",children:"Tanggal Cuti"}),Object(d.jsx)(r.z,{id:"nama",type:"date",value:x,onChange:function(e){return m(e.target.value)}})]})})})]}),Object(d.jsxs)(r.K,{children:[Object(d.jsx)(r.e,{color:"success",onClick:function(){return g()},children:"Buat Cuti"}),Object(d.jsx)(r.e,{color:"secondary",onClick:function(){return a(!1)},children:"Batal"})]})]})},j=a(63),p=a.n(j),f=a(873),h=a(882),O=a.n(h);t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cuti.data})),a=Object(c.useState)(!1),u=Object(n.a)(a,2),l=u[0],j=u[1];return Object(c.useEffect)((function(){e(Object(f.b)()),e(Object(o.c)())}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(r.f,{children:[Object(d.jsx)(r.i,{children:Object(d.jsxs)(r.O,{children:[Object(d.jsx)(r.j,{sm:"5",children:Object(d.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Daftar Cuti Pegawai"})}),Object(d.jsx)(r.j,{sm:"7",className:"d-none d-md-block",children:Object(d.jsx)(r.e,{color:"primary",className:"float-right",onClick:function(){return j(!l)},children:"Tambah Cuti"})})]})}),Object(d.jsx)(r.g,{children:Object(d.jsx)(r.m,{items:t,fields:[{key:"no",label:"NO",_style:{width:"100px"}},{key:"nama",label:"NAMA PEGAWAI"},{key:"jabatan",label:"JABATAN"},{key:"mulai_cuti",label:"MULAI"},{key:"akhir_cuti",label:"BERAKHIR"},{key:"aksi",label:"AKSI",_style:{width:"200px",textAlign:"center"}}],itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,pagination:!0,scopedSlots:{no:function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("td",{children:t+1})})},mulai_cuti:function(e){return Object(d.jsx)("td",{children:O()(e.mulai_cuti).format("DD-MM-YYYY")})},akhir_cuti:function(e){return Object(d.jsx)("td",{children:O()(e.akhir_cuti).format("DD-MM-YYYY")})},aksi:function(t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("td",{style:{textAlign:"center"},children:Object(d.jsx)(r.e,{size:"sm",color:"danger",onClick:function(){return function(t){p.a.fire({title:"yakin ingin menghapus data cuti ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){a.isConfirmed&&e(Object(o.b)(t.id,t.id_pegawai))}))}(t)},children:Object(d.jsx)(s.j,{})})})})}}})})]}),Object(d.jsx)(b,{modal:l,setModal:j})]})}}}]);